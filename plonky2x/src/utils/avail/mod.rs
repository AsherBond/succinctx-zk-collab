use core::marker::PhantomData;

use plonky2::field::extension::Extendable;
use plonky2::iop::generator::{GeneratedValues, SimpleGenerator};
use plonky2::iop::target::Target;
use plonky2::iop::witness::PartitionWitness;
use plonky2::plonk::circuit_data::CommonCircuitData;
use plonky2::util::serialization::{Buffer, IoResult, Read, Write};
use serde::{Deserialize, Serialize};

use super::bytes;
use crate::frontend::hint::simple::hint::Hint;
use crate::frontend::uint::uint32::U32Variable;
use crate::frontend::vars::ValueStream;
use crate::prelude::{
    ArrayVariable, ByteVariable, Bytes32Variable, CircuitBuilder, CircuitVariable, Field,
    PlonkParameters, RichField, Variable, Witness, WitnessWrite,
};

/// The batch size for each map job
pub const BATCH_SIZE: usize = 12;
const MAX_HEADER_CHUNK_SIZE: usize = 100;
pub const MAX_HEADER_SIZE: usize = MAX_HEADER_CHUNK_SIZE * 128;

#[derive(Clone, Debug, CircuitVariable)]
pub struct EncodedHeaderVariable<const S: usize> {
    pub header_bytes: ArrayVariable<ByteVariable, S>,
    pub header_size: Variable,
}
#[derive(Clone, Debug, CircuitVariable)]
pub struct HeaderVariable {
    pub block_number: U32Variable,
    pub parent_hash: Bytes32Variable,
    pub state_root: Bytes32Variable,
    pub data_root: Bytes32Variable,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct HeaderLookupHint {}

impl<L: PlonkParameters<D>, const D: usize> Hint<L, D> for HeaderLookupHint {
    fn hint(&self, input_stream: &mut ValueStream<L, D>, output_stream: &mut ValueStream<L, D>) {
        // Batch headers
        let mut encoded_header_values = Vec::new();
        for i in 0..BATCH_SIZE {
            let mut header_bytes: Vec<u8> = bytes!(ENCODED_HEADERS[i % NUM_BLOCKS]);
            let header_size = header_bytes.len();
            header_bytes.resize(MAX_HEADER_SIZE, 0);
            encoded_header_values.push(EncodedHeaderVariableValue::<MAX_HEADER_SIZE, L::Field> {
                header_bytes,
                header_size: L::Field::from_canonical_usize(header_size),
            });
        }

        output_stream
            .write_value::<ArrayVariable<EncodedHeaderVariable<MAX_HEADER_SIZE>, BATCH_SIZE>>(
                encoded_header_values,
            );
    }
}

#[derive(Debug, Default)]
pub struct FloorDivGenerator<F: RichField + Extendable<D>, const D: usize> {
    divisor: Target,
    dividend: Target,
    quotient: Target,
    remainder: Target,
    _marker: PhantomData<F>,
}

impl<F: RichField + Extendable<D>, const D: usize> FloorDivGenerator<F, D> {
    pub fn new(divisor: Target, dividend: Target, quotient: Target, remainder: Target) -> Self {
        FloorDivGenerator {
            divisor,
            dividend,
            quotient,
            remainder,
            _marker: PhantomData,
        }
    }
}

impl<F: RichField + Extendable<D>, const D: usize> SimpleGenerator<F, D>
    for FloorDivGenerator<F, D>
{
    fn id(&self) -> String {
        "FloorDivGenerator".to_string()
    }

    fn serialize(&self, dst: &mut Vec<u8>, _common_data: &CommonCircuitData<F, D>) -> IoResult<()> {
        dst.write_target(self.divisor)?;
        dst.write_target(self.dividend)?;
        dst.write_target(self.quotient)?;
        dst.write_target(self.remainder)
    }

    fn deserialize(src: &mut Buffer, _common_data: &CommonCircuitData<F, D>) -> IoResult<Self> {
        let divisor = src.read_target()?;
        let dividend = src.read_target()?;
        let quotient = src.read_target()?;
        let remainder = src.read_target()?;
        Ok(Self {
            divisor,
            dividend,
            quotient,
            remainder,
            _marker: PhantomData,
        })
    }

    fn dependencies(&self) -> Vec<Target> {
        Vec::from([self.dividend])
    }

    fn run_once(&self, witness: &PartitionWitness<F>, out_buffer: &mut GeneratedValues<F>) {
        let divisor = witness.get_target(self.divisor);
        let dividend = witness.get_target(self.dividend);
        let divisor_int = divisor.to_canonical_u64() as u32;
        let dividend_int = dividend.to_canonical_u64() as u32;
        let quotient = dividend_int / divisor_int;
        let remainder = dividend_int % divisor_int;
        out_buffer.set_target(self.quotient, F::from_canonical_u32(quotient));
        out_buffer.set_target(self.remainder, F::from_canonical_u32(remainder));
    }
}

pub const NUM_BLOCKS: usize = 21;

pub const ENCODED_HEADERS: [&str; NUM_BLOCKS] = [
    "00f43f3ef4c05d1aca645d7b2b59af99d65661810b8a724818052db75e04afb60ea210002f9cac87493604cb5fff6644ea17c3b1817d243bc5a0aa6f0d11ab3df46f37b9adbf1ff3a446807e7a9ebc77647776b8bbda37dcf2f4f34ca7ba7bf4c7babfbe080642414245b501032c000000b7870a0500000000360b79058f3b331fbbb10d38a2e309517e24cc12094d0a5a7c9faa592884e9621aecff0224bc1a857a0bacadf4455e2c5b39684d2d5879b108c98315f6a14504348846c6deed3addcba24fc3af531d59f31c87bc454bf6f1d73eadaf2d22d60c05424142450101eead41c1266af7bc7becf961dcb93f3691642c9b6d50aeb65b92528b99c675608f2095a296ed52aa433c1bfed56e8546dae03b61cb59643a9cb39f82618f958b00041000000000000000000000000000000000000000000000000000000000000000008101a26cc6796f1025d51bd927351af541d3ab01d7a1b978a65e19c16ae2799b3286ca2401211009421c4e6bd80ef9e07918a26cc6796f1025d51bd927351af541d3ab01d7a1b978a65e19c16ae2799b3286ca2401211009421c4e6bd80ef9e079180400", "7c38fc8356aa20394c7f538e3cee3f924e6d9252494c8138d1a6aabfc253118f12a2100083881d07dbbefb7825a5566382e26edc42b9b1365764fd82dbfbb756bb0f6cd3987f2ec9fd2c62a82b1edec67512fd9c5ddd9ba34415213c057617852e3c7eda080642414245b501010d000000b8870a05000000001eca944b2bd75c5f1a69a7407cc554ee5365d450d0ba241d81ad978bf7202e4a62ab7641784e956a7899dcbb514ff9557f50292b8af98e813c9f3ff59eb55f07066a00aedce2960ff4ab585d64e38f0c92899701db6e91e564f789bac0cab002054241424501019a358f5cd1157818a7af37e058be98d1d152781050710f090dc7dd0bb2635f461b33f027f6321b8abb9730f737bca400fdada96d285b3bca7f88b692144f548b000410000000000000000000000000000000000000000000000000000000000000000081018805936a95f50b3839c83cfaeee4b04b126cc66bc386a76fd0518c2afde58db1dbc543397725d3f1ed9717147055937b8805936a95f50b3839c83cfaeee4b04b126cc66bc386a76fd0518c2afde58db1dbc543397725d3f1ed9717147055937b0400", "7a2502c50ebae6e77441ae88d0c351c97c8a11d9803b6b373f53e660d8511f4f16a21000cced42f4db336bfd894d95cd34e953876df6c57ba7c1fd29e63aa8a0196a778b898441d9b3e6334597be09f61529712bc15d569b3fd186a3434f3d40d7033fd8080642414245b5010307000000b9870a05000000009eb4df21f301e1d1a3183edbbc980bcda792ea009023004920de7ada1ccf3c629883076279be9f418d16c4923b2181fb6aca18596fb1022bb564435b3d5b6b087c4e6ac1e4c1effbd6b469ea270ba2739ccf8964856e8e693d04863f4549230b05424142450101a0b39352c74f6451a3ad395eef1c6df2d2d460421510d3e977edabb56e911979fa32755d19682dcaf974eec79f476be605a9a8176b60f6dc9776a52c936a2d8300044000000000000000000000000000000000000000000000000000000000000000008101ae27cb43886fa3dbb345d489de324f5cadadebeba1c6673a6681e5b3433403f29b3f0a1fe34986ca34d59a63223e02dcae27cb43886fa3dbb345d489de324f5cadadebeba1c6673a6681e5b3433403f29b3f0a1fe34986ca34d59a63223e02dc3c00", "54eb6f6aebbc2cab4335eb8ac482a2bf2f28edf712b8ef6f15b998859d1cdd7d1aa21000596c88f49cc9318040910455b757b42e949fd3c7f6e7a693ed40879a5308d5b9cd0341d66900a356c744b03dfec3e87fba4413cd9b0f36c5d59205998f29e1b4080642414245b5010344000000ba870a05000000002a04c0599d519dad62106a34b19c1bbbbdf60781d37ee2242aba36b321dedf13a68ce2e19c2021a0d453624608a98b2e0e9de3210e1ae7881f09aca094117007d3ab4e1182306dedad970c221a216b082898aa628b27ebe0e49d3e979c4a2d0c05424142450101f4a6a892fa62a1b52644f6052e388c982c7d0a55e2d0df3eddebabed7ae28a4f7e2ed177fea0fa5d7e277e89d04f5639ba3ec503d72441efa59ec9fb4e59ae8800041000000000000000000000000000000000000000000000000000000000000000008101b53976c04420f11bf32cba04355efdada3612cffd5e1d7a291d9aa657290425aaeb078da3a511cf59f755e504969feb2b53976c04420f11bf32cba04355efdada3612cffd5e1d7a291d9aa657290425aaeb078da3a511cf59f755e504969feb20400", "b11087867f6cf39a13d2609dfedc6a338e605919adc061df369a4e21d7e01ab11ea21000d7c55f367ca7a5342f5b27620ef303fd153ddcce958c6dc735a03b80f0d3ee5a751d6225da3c2378771829690981cd8df00c70cdd1c23dc08415d70f3d6bbd43080642414245b5010324000000bb870a05000000008c9b6c0b90b00d98e05b875b2c892f2540e6e42ca7a8d360e1207edcc45da4405a078665fcc2db16b51c844e25b5e3b5bf2f37283e3347d30d738e74881f28090437dc54fe523354c741f7c2bd04e13baf1a8e9c0a0611a09f4cdb262742bc0c05424142450101c045630422406f5ed73eaf583a5d1a9a7a49bee096c4edaf707a6302125a59591440d156e00f880d6b3c79c681cc6c3ebbe3353353bec41712535625fbc15f8c00041000000000000000000000000000000000000000000000000000000000000000008101b7c5b17fc05e09ee21e99736eb13f82ed105f74f647444ab33fd4f4d27268a56d72f46fdc6309e2a51d888dce9469095b7c5b17fc05e09ee21e99736eb13f82ed105f74f647444ab33fd4f4d27268a56d72f46fdc6309e2a51d888dce94690950400", "91b06654e70b02cf601c863c01bf5469aff01c7f6b1cd6a1de910bb4327cdb9f22a210006f9bc3e7665c5532de6b1c9e3ef6340657f3c3e97ee13fe011e563e763bb5d32b760d7a5deaeeba44ed8069cb349233f73e01de932cd51f33212781d7d4f3020080642414245b5010315000000bc870a050000000076f8367f97c81b4e23e976e1476d49687381db2d87530bc3cf6c05d6396fce3b0cffc6550d202252a47befa986e5156d26d4a8e0f10330ef6a085ba61b8551095dac2a47804b18030b226e9d2a7d67fa075b14854426a2e3ced93af75f12d50305424142450101b0ef5ab199ce0f54b4214c1bab5a6ef7ca5710cfa983c6a54eaad3c1ec2030428fc3e90fb66164a78477eaee8898425adacda862b911ea676f93d2ffb389148b00041000000000000000000000000000000000000000000000000000000000000000008101a1e05dc61f62a59a1ce9e2680ecd605f20617fbc6e313bbb03975852e4d6809e82956da21619c128e5977ce8935c346da1e05dc61f62a59a1ce9e2680ecd605f20617fbc6e313bbb03975852e4d6809e82956da21619c128e5977ce8935c346d0400", "b069ff5420d392e4dcfb3a22e5a3246c8f53cda6d2b1f74275ac0b01e27c345d26a210005c3d19fcf57a1ee1fe11cf450ef41adfe9aa366f3853d5688a7224b6507c598a3b733fdac25caee08991b6c253cf902ab8d72a0911dfa0370e08b2c7ee7f7d61080642414245b501031c000000bd870a050000000066c2ce6ea5392b0f444944861c1d098137b18eb645505a89972299060fd06a2a550b4a77bfbd9cee2fb4bae84571b6f4e0f4f921d9aebeba3549167d6309fe0a5626d474e8878240fb8c051a38a06d9f521990269033cac4f1cd83252eefcb0a05424142450101ee5e12ab580a8366f21d8700980642cbe4adb891936e38d0bb6738df6c61c44b7e92c1baddb2bc5fc413d6a928d08fee98d9085eb6985169bd9455b5ef51bd8100041000000000000000000000000000000000000000000000000000000000000000008101941b90acabfea8a269f31b83ec155034c06e4665e75a3f68cb87248088a2407674eb9b1558df56da17eef7956316d38e941b90acabfea8a269f31b83ec155034c06e4665e75a3f68cb87248088a2407674eb9b1558df56da17eef7956316d38e0400", "f9259cdbcd9737782669db5457221c10a254753b6a413ac1aac83f431af105f92aa21000b0420b8997a19a7d60707d92516c722b6f208b9cfc0338ba58fae8cb034556d10d896cbbca19d40c75dc8c1b541ba49da6d562ef54844a5e1090706b97bf12f0080642414245b501013f000000be870a050000000032b987453fe3d8a578c4d32c27a661ec86b57263512beee73f7f74cce80d552cb2f35c3294aa86574c0a3bf98ed534c124ba5125715620e229c7c1f4a0e19b060704cb372b5497e4de4b80bbcc37ab757995dd185298951c8b05e41f62cbcd0d05424142450101b623b4ba85d8c8c46bfac23f55f6abe8a70f4b8d94b2523eb29f4d35d6fa4c7382de7efdaf5320036ae3573fccbd2656076f00b0d52a6a8e1a992780d2e62582000410000000000000000000000000000000000000000000000000000000000000000081018c478d6eefc60a6395edb46e92b1cfa572c07f63d2b13d8f71cdbdf56b382a951cc468102fab4b82a96d856c3a6129f88c478d6eefc60a6395edb46e92b1cfa572c07f63d2b13d8f71cdbdf56b382a951cc468102fab4b82a96d856c3a6129f80400", "90a3c1948ac4eef9b02f4602b0ce60e980a0e1d286568aea4a31c205861495092ea210005a236fcac10ec329ca58361d5d054d146417b5fa1e9b06bd6ced12b873143e1bbb2cadfb095d39fb064b799d1a4c62a9864c7c31414832bdc99cbc1e97b933c6080642414245b501030d000000bf870a0500000000ee244b8e1bad302f30105d360f381457d8a566c21ca4e863030c87b5a770ac28f8cffc9fe1071d53d60d37696f4d0ccdfa2af68625a6354082801d78ec1ad005a25182ea73440a7c2a660b58fbd319846ea32e480f9cae46f485f704e241340305424142450101fee69e493a6c627337c621c2ff5547266fad73d1fbf578ea26dfd7609d3e54020a6642fbcf53dc8d76e76995931806c852bfe1e65c320751030737a3db47c58a00044000000000000000000000000000000000000000000000000000000000000000008101a5f00b9c21ebabb72ddf22d19011c8681e7643a44e7fd8beda63bd86782cec5ded13adf504f613feda82023ad937aa59a5f00b9c21ebabb72ddf22d19011c8681e7643a44e7fd8beda63bd86782cec5ded13adf504f613feda82023ad937aa593c00", "2c363868146f3ad1941202fb273fd2ad1ec4580ba614cf04d0d7fbac5ebadb4632a21000876b281aad1051fe9042485e58f2ad77e3bb36bb4d58dcd3e769b2590bd06a9485dd515492ed1e418b75cda85822e7b996bad7fb4a13f79aac009ca3a4cb5c7c080642414245b5010110000000c0870a0500000000e62f37e28b6439413dba94d5d16beb13220306cc22b18a4b890ce4b7cad65c407af5a3f4ddde7582a4ec805974a17b4b90dab95305732995b2d4963b005c4801687e2a963b859f5c05059505058f06d90d4040b32f41f0a9754d87a6582b0b080542414245010186bffa85bb6ca8b88757d110868c7c89df648df1dcc810da48a4ee979263a9063c0c8af61d25f6071e953ab8690728032f6bd9e06641a4dc93bd2a18bda9438e00041000000000000000000000000000000000000000000000000000000000000000008101aa767d4cd06235e2d9479380360b99b920910358f82dd89864ae6141f85a4dbf4acadd29819f51e183084495d2bd78aeaa767d4cd06235e2d9479380360b99b920910358f82dd89864ae6141f85a4dbf4acadd29819f51e183084495d2bd78ae0400", "0bf755ccef7c7d8458a7adaa49b7b7bea04f9d52f401c302b97df9af9575b5ea36a2100066e35608dc0e8db97184a050ec7640c20fdb468013d9062739d74ca7734c87cf1f407ea20a17b5e48ea814147d7fbe43d8cad843112ae48cb4fd52050853c28b080642414245b5010344000000c1870a05000000003ee7710d000112df3025be64cc139b2881cf225d18c82af1c2f9c3323c2e08492be648f3db42eb644c9de4112d7245e5c826ffff4975458c840a351acdf05d0fa230180fa4ace8ea6908f61201c57f85a6a3ac05d1a1c416322d4830a018a20f05424142450101ea30c52c40d9262492265d37e2d1b003b84e9e63da42e621c9503bc22578324dc7efc994b13d8025da396fef204abcb514b53c3c5667c002aeca491b13c8a3800004400000000000000000000000000000000000000000000000000000000000000000810190d87324e6f8c34fe17e963687b95b0bfc0d4aa1919f99c2c07910f11f7b0b3a41bb06c5be76618f6fbf7f5c4b70876a90d87324e6f8c34fe17e963687b95b0bfc0d4aa1919f99c2c07910f11f7b0b3a41bb06c5be76618f6fbf7f5c4b70876a3c00", "5f83b38a27a7d1e7e0709408e845b78bc7bd628c4c36217ad46280ab8ce4b4af3aa2100068c183b952de39dfe2476a276570f549cf6ce922c619f84ea22114b8f17899f92fa0396a54a29ef2a85ceb3f25d3bdaee35d088e1cf3e77577fe0ab7bcd65599080642414245b5010337000000c2870a05000000001c8d36872b5901284c106d0955c92015c060bd9c815af2e15dd08798cb06a311e975347090922b3f644ec5cedcf83116bd09ace9c272c16c1f9775582a838d0cca11b51c24898840529387989c9a1bf5d330a85519e32acd939a7b84d5927c04054241424501014a52e55ce47a163e787b65123c674cc52e2437545d12a6693d277ca319ad194d6a3dadecc9d7e1d438c93a6c7f863e7db500ba687f6b535e8cdc8091bcde068400041000000000000000000000000000000000000000000000000000000000000000008101b8ab87010f28975148eba7558f036399fa234e05e9fb7a4e34645e6030714c7c3bfaf99a58d1e87e913086a417e1bf56b8ab87010f28975148eba7558f036399fa234e05e9fb7a4e34645e6030714c7c3bfaf99a58d1e87e913086a417e1bf560400", "fa119bb252c099ca2d9c853e1a2f3e45504be3163b15a44dfbdf607c09bd923f3ea21000dfb16060a014bc0503db79a166dbff86b50732dffcc7fa7ab4e9429036bbae3d5d40c838c3c4a6174672f922e3c8d0afe79707a6f3c58bc072c330675c991712080642414245b501032a000000c3870a0500000000be7336ce10970503e78de9cfb18bc998d3c67c38e41f945d2c70e47ee9e20345e5b715e50cda92a1ee8dbaf02fe877947740dc142672abc7407bc4b5f0f54003729d93e801a2ea2dc60f27533485b465a117b07cf97532f66586c5cff5aab10f05424142450101182641bddf9c2a2508ba7ad13e7a84192482c9c841c815d00dc8ecf007b70560092bbc6115642aaa52f88f587b59aeb7e35924469f365bc4801c3ba7907b5e8a00041000000000000000000000000000000000000000000000000000000000000000008101a7a76a331ec16abcd47897695be3bed2bcb5c47bd60f878f610c9cc4f8a18e70854387605e402b2d562bccff9dc0664aa7a76a331ec16abcd47897695be3bed2bcb5c47bd60f878f610c9cc4f8a18e70854387605e402b2d562bccff9dc0664a0400", "4ddff22500311496020c0b9210831c8ef97c2060a17377348c896cc4f7b4fadc42a210003893057bff4352c5d251abbabe085a9eb808cae91a06b68c712761b9c7777f2d8c1cc0f3c2f4be956c1fa24cbcfa070573b6b463b48ec0d069de2498023e10b4080642414245b5010331000000c4870a05000000008afa64af3b68dce3ed10d29a5157e4682aa6f0427938637bdffd8210b111de6a13bf6d3c27904437f148b670fb5f6b3b72b990a6d5d38cb86324910657cd660273f9245ae48dd4ebe9e1edfc57fabc355d1a8129bff5249c680f7cb59fa69407054241424501019adda37b455fca283125c554fc7e7c762591828322eee999b629edf94088cf1b557f5500799528cb63d2d689f1135ea64527fcb3e027453f08babfd74da1948b000410000000000000000000000000000000000000000000000000000000000000000081019525acd2419884703fdc58dfbdbc63c7bb8a312814f6da91acb221405d3578b6e045af74ab8645a20153568601390fd09525acd2419884703fdc58dfbdbc63c7bb8a312814f6da91acb221405d3578b6e045af74ab8645a20153568601390fd00400", "83d57387ceaf2151b6fb1a38b33b31e9201954be97628854b99c0c59356538e146a210005c1353151e51d737d041342d44ccb0f83011a4e9c6eb73f7e9a75498f612f67488dd7a8608839ee94c5fbe6331d3061af6f67f798074e902baf10eba520ead74080642414245b501011d000000c5870a0500000000843fb96444d2921115d2886fd6f68e6dc08d371d9565493d0f7a2cf7e0cff71cd6bb35dcb0dedfdd2a80b26d9113f88243132fdab20949623398e1f80bd4c4094f2ad9e8f4eec23f787e0692346d4aebdad1f974c4a975291e7f11356687360905424142450101e822b76334daed2458f2469ce46280e87d1f40c39a4a0d2e0295dbc92cd92618cc25966a2ba8f3bd036978ec6c39dc9d7a05098c87ab8240b8001f80f137c085000410000000000000000000000000000000000000000000000000000000000000000081018528754908dab3088e146975a22bf70468c26d98d6e4bbc688a9735b26ab3048048af7a00b171f740ad240044d7dd0c78528754908dab3088e146975a22bf70468c26d98d6e4bbc688a9735b26ab3048048af7a00b171f740ad240044d7dd0c70400", "50602821e909a629b726e0dbd1aabfd8ec47776c1525e54b3f73822000afcc554aa210008b4e8042f326c2678dcfd1ce1b90f783097a5dea19c0100687b355bc2d213aff407fe95402e0654cdd396ec5b599053386f6bf731e01242c1efda484163c7f0a080642414245b5010338000000c6870a050000000050510a19215f34335ef3f78705f165d9a8e7b2a4825706ceefe1cffebb73da6ecad0b2475cf8adf87907afbdafe6fe0adb7b72992ad94a50173950d3aa4aa9028f03df4954ad5e8a04e9cbb85592cc8624e8f436cb92a4fa9edf036be899360005424142450101c6e3e39f159c265dcc2043380fa2316eafb43095cdb60322a0af0f452bc53b184f76392129804ebd6a18dd5368827dfadb9378da17423bfe09fb88791500c986000440000000000000000000000000000000000000000000000000000000000000000081018b09d38fa8d9bf0b6b054e7a76d8af9b690609b083f1582c938061cff3404a0b94a38cf040094300087de4007a8b7d928b09d38fa8d9bf0b6b054e7a76d8af9b690609b083f1582c938061cff3404a0b94a38cf040094300087de4007a8b7d923c00", "7c9641a4966e61d678edf239a863b0c33afd7c129da8990e30d0bc2ab04d31ab4ea21000d914bebd3622e979e4b292f84a0a78540680c28ae722a72f64d7efdbd6c4619c7135c4a78f9b1ab99ca6a8b90b302a6b0802dd73a4d16ea228b9d352093f8ab8080642414245b5010349000000c7870a0500000000f234e16c85f6db5be4c35c1a56827227b39bd8cc12a94d0086fa29f9df59ae66b8c0c75a971f91a6084b34cc9baa35c5a65cab4c7a9cb6d08943da2bae0fca08ec8211b113587afe3f9559402b64f92eb8f42dbe06888d50fdbf197af6eb7503054241424501017e2b2bf0d57aa40dae82cc0fa5bbc834c934bc009a3960fa7fc7802ae8787d7cb107575e20d34b57a0b8319f02abe8b72b29165333225d8dd5aa4a94c6431c8c00041000000000000000000000000000000000000000000000000000000000000000008101a2e198142109fa2bec1aa1c45d1b63679dedd6ec55ea432052e5fb56b1f968bd0b1fd3b8c7f2caabd06774acdd4e8d5ca2e198142109fa2bec1aa1c45d1b63679dedd6ec55ea432052e5fb56b1f968bd0b1fd3b8c7f2caabd06774acdd4e8d5c0400", "bae3560cd9ab32f8e4782602ab36b20d1d6e53702f02e33e543aaa56802df0e952a21000b12afb39e91acab25c4df8c90d7e11ba5a75661ea4717c12536a7bb52139805be8ba97254c2f9650514b876d13e2e4cd54df48238b88635ca2c68ef94f864c4b080642414245b5010136000000c8870a0500000000b84886c06866f16813e35a4d582c883d8ba72e2cafedd9662c29bc3d50aac302a1426561692281dac143e106cdd19d9370c8e02dd5b122bf92087e5195b3e208bf2af1dc9983742052995cc45edc36643bdf3dc7ff843a40d48ad91845f4480d05424142450101c495a045ad15ab88a5ecfffd7a2d209d2a5f198beaf22efd8b693e1d5882ae2d7621f4e5a8214872eda762df2693095df91a8039c726e440c1b98c3251f5d689000410000000000000000000000000000000000000000000000000000000000000000081018b5f516186d64bed44c873a1ade2979c9b4040b9653e7d6ff3cc7359770ebf5d2169138dd3645f822c9493795cbd34b28b5f516186d64bed44c873a1ade2979c9b4040b9653e7d6ff3cc7359770ebf5d2169138dd3645f822c9493795cbd34b20400", "4c06db1575013f3319f21263e012169ac70ae62246291fc26e6c4d06fecf1c0d56a2100022982b01de82945325e78bdb5a1bb9eff9e2ca13042b8f3d70970fcc2c008b850417559587853682749ba45cc7e52750c0b645f210e291b9dd1f78e0a1d6c809080642414245b5010305000000c9870a05000000007a5af7250b4c8d1ede57031174109a9bcb1526d7b897b2928b719b263b9e7d69cd80ae58287f0bc01ef3bce645399689e799489f054e617f4b0d4cfbe768f702d3299778bbd1ecae442ddd3a1282213b386a39ba731939d34afb7f7106e9370f054241424501018a8cfbd4db709ea240baa9b9b163fbc6ba5b65177927cd0bc52ab3eb8742760de64e323df69af45722bf379e67ba522b0d70ceca7743cb521065b59e66c3588d0004400000000000000000000000000000000000000000000000000000000000000000810190c92c58623c3d81f88fb7b7778f59e0e6644ace8e004e529b08408e832fcb2f86b23190db2a2f2a13079643ce3a9c8890c92c58623c3d81f88fb7b7778f59e0e6644ace8e004e529b08408e832fcb2f86b23190db2a2f2a13079643ce3a9c883c00", "6fdc249d8258e0f047fa2fddaf0a3b45628de0d77b29a108898b64d0a56f53bc5aa210007ea2ebf0b9c85f6ca783b303dd3f5edd7dac69b08ee7b9d62a9e4d5349d8bd1063587fcd28e6fa2116db3fe3c1f47ebb1a4c6f28cc61db0ea3968c0f5224570a080642414245b501030f000000ca870a05000000002426ddbfb2f9273360f0800d775e58c85ed5297e5a74ec0ebb3e7e90853c0e767107f52bcfbabbaab7abb6b5b328deb874df9eb4efab4b31f301a78096bcf409e263714906d0231fee75cfb1eac5da9f3341a11e5bfa9938f80bc1814a313103054241424501019481b716ec3b330f891f14d794fd9a59b6ffd847317a6e37e69919a535eb1900d2fcddfa21ec510721cc7cdd2d4ea0252a2d72c17bbce77f270e2ad2f7133a8f00041000000000000000000000000000000000000000000000000000000000000000008101b967e065a285aa95679e95b5881504f16e7f6c2a76a1ee2065d8cf095d4c2e288b7d1f66a45f029541c867194c531229b967e065a285aa95679e95b5881504f16e7f6c2a76a1ee2065d8cf095d4c2e288b7d1f66a45f029541c867194c5312290400", "347c0da54de50a9a84f141c0ad555b0b82002f3a582552dff31d9bc9d52815a55ea21000b237d8cc3098c339a59f782f9a02137cc98522ee3c7c49b73f2ff6120fabf4da714490e42815bc5e1b42a1af02548f1087c3f896a7edb80606cbe2843947e7d9100642414245b501034b000000cb870a05000000002ec786635423d37f8befaead35415fbe1dbc46d4bc45eb3bfe4ee82e27273002324b1b9767f06d9349daee1a0e16cc4fdd670e0250cd253d11b94e23212c2907b7cc31cf8b1fd9dc57f747c3e65706f550a69142188fecb1181b937960f9d00704424142450d30013101ec19dddfbe7148a222950e27567aa6f93f46f774b84a0ff81c99c2fe141a486601000000000000000a3c4b7eea62bea972d022cfb6a72868796f33358e55cc8dc5e7d3d763ddbe3501000000000000005aa35ebce6622f9b5caae1eb7adbbe9687e0a9013e6ec5bd3056651fd2284b1e010000000000000008810ca82708436a91ee8bb0704a7c66c7a4598c1555e7c9ab27990e897be60f0100000000000000667aa563a3674db3f7d5c50bd2e68631a13024e580a27c9c45f26f45cf98f9420100000000000000d6986a40282b9ef5289a654a81db49e013700ad32fd49436cf259b618dd68e650100000000000000d85f37a7918c777b3237f3501c815517c1a01e537ef6195dfb2e31ccf617d11d0100000000000000fe524ab188d788298da30e4cdeb14927c8da0f6c4838a600aade3aada024e760010000000000000042ba38df525b45646b7b79673eddf2f12a6b5400bf1d5430cf50f5815432553c010000000000000066fc6567415d2fd5b2f2ec4c0b21b58276485c617bb2e26a86ea7e61f0bae76e0100000000000000fae31a3e03c5a205bb970a3d6e47db1b675ae6dde944eb80a59e578c2181de150100000000000000f892dd1d221d46e747f8a29f0121c27ff4dbe12f7f7b0b6684e108d302f0797601000000000000002681bae296b13d0ed8f76f82d90f266ab8670c86ca2f88b5749220ed0615bc0201000000000000000442d76f42ca93fc1b7e67bff0411e9b3e9a41ecf7f8fa276321c463adff817a0100000000000000ec9ac594c76a797fc22a013825295c975b803405eac79615b88577e9b208f52f0100000000000000b4c8ebaa0c43bcc337bdd2e1d490132420b231497c339bf08731f2bd1c961f5e01000000000000004aab1cb22b8b40f1b69134cddb409e58d5cf06dc8a33695ae62c05923e3626130100000000000000c44451e7fbab461ddabbade3932b8894cbd2f176527f683be8f16dd5da51b844010000000000000034cc28c1ff243980b3af78899559107adc43ebb12c9e3ceab0f6b601dd509c030100000000000000ec8007f5c47c90710b8931fbe254cfae1368b4e37e693075dc564afe1083095801000000000000003e5091931be8e47770c708849b5fb6523e5e5ef79fc691c9218d212621fcf12a0100000000000000be8d6c0564745baca0aaf7a1d732507de9966ffad4d22bb3a5c45ee6b451947e01000000000000007032b0040685d7303c690014c72b9e30bf5c1b2762774ce4a2e5a82e2dff767e0100000000000000f08fd68f51b215386b1c8cc62d5656127ae090b068a7b69790eeb01ead88c1310100000000000000c411dd7a14a59c5bc166ad14418a5d777b97553e72d58017d7647ad1cb9b1433010000000000000038b4017a99c5da618e9db8ed9fc021f4d1c72f142754a11a255861af23abc7670100000000000000dc29dd3eeb9b6121dfcb891d3c9efb9f928de58e903b3c047d9bc79b35f18a1601000000000000001abfdb891a2c4de8f7746328f4e9fb370104c0ffee66303c8640160099c7430801000000000000003a013fb810858b34a0a9c2fa50f01056559b70a9c8cc5c3826e926914de8ca7e01000000000000008aed0ea49e14e1bca60e7bf798b129cc83337aa19050ed89c26fe423d8fa1b240100000000000000f2713021fbf1673ef45637f3ac8bd9ea02e93fcb3e20abc8dec4c11106baff6301000000000000009c24b49b0e1e5044983a5469db658cb2e33f2b6af95904aaad9cc42c81059854010000000000000032a4ac7712df1945a24108cf9ecd28049ebc93c1b8c065939c2f2d225f6c6f3001000000000000007ea2caa8b88ddc83c386bbb0d8f4ad2e0c61eb3645ae7a6afd90274f30276c1101000000000000003c617cd83f0c50e5666237cef3bdb5b6eab966b2a2a93ddf897fab5168ff832c010000000000000034c344eef6f8bc22685191438dea918c4486a08ba62a6a5e31da0ce3981f6f100100000000000000863a388b726e1b2c506647359d63a1f1372aa6109e25fe3fcceff02671899312010000000000000092d1a5a39abe6ea6c9d5455958a51035df3410fc863cae1dc371cf97b8e97502010000000000000042914f003d7df08787516f48e315bd731b48e37f8110adde67de0bc822c6e41e0100000000000000e02773d063a1ff5b9698925a5e814de13f403e554ae2a9f9d8b4c0d290bf000c010000000000000072d8621499be15427db2dbec054489c2a0655cbafb26387f6ea524bd0f17d9690100000000000000784b1743779643f9c8ff33cf08b11e5037c2edf2e8adc3691161072d97f00e2d0100000000000000ea1e13a2879582989b71c03e372d84c47830e522fc4fc1050e5f7f44b25bc46e0100000000000000bc7e8b92c4b58b055d0d645298dcfc059018821c50e33b13472805aef759203c01000000000000002c322e7eb77d68d6564bec8dba8e648113dd9b95d1f1bb588f2a8dc8e1b16b5301000000000000006ef44ef85e5e78e0ade197a853ac7d46f731cdeb8b7707e949f9286f1b8e562f010000000000000000618f7715ded4062a287b49c5d25526b79a3b9663193fed85c7f00790cbf23a01000000000000000c8ccc371a4e43ddfd3d89411931b26d2c87d8fbd5a45eb1d1f5621454d77a5c0100000000000000662bd407566b47e8848a869a27cd6cc3aa8db6dc82eba4dcf06596fb0d6ba714010000000000000022fa2aefcb59671b27e48622a611089b732da144ae1cfd8256c05f3940f2f908010000000000000018439704d85299bc24684f36f1d28edbd75c6a3b2aeeb5b014ee96260afbb9170100000000000000b23b1728b428677e524b36e2c41366c7cfb70c2bbabef92135fe9a8d9903e7190100000000000000c6f7b23814703c3804c0c8269f83f9b8f555c32b747b2f297c4fdefb8b7577590100000000000000b0b2e6efe6a15c9ea0ada939148805ccceaa0c5cfd7d1219f10ef1e740d0b0580100000000000000b21e2d18793bc485144a5b0cd3ad5d6ef1ba1bec6ea508e6ccb93a79f6dc3654010000000000000032d5077a4fd819b3715b5ca887558429f1b38e547313081f49b60f9f7170b7040100000000000000f20b91fd0584f74f14fa174d91bb281a6a9d9fb9adf95d5273400393836d5d430100000000000000bea3ece3b04a92205c2c6d81c98226308ca39e567699b984cfd7f48f2667f26301000000000000001e97e1f3400f584d9b8e33f7d05ab25ecafa3dd08915a8d355eb8e1699efc8530100000000000000a4403c01940dc9816ca651073e39e2d7a24bebf096dc99bf875cd59a42825c2001000000000000004edff3fb210e6e2820f4ce7bd6562d015c1a972844298c1670edf8706eaa8f150100000000000000f68bb8604d1e253ae0c6cf85ec03218d70319f78acc102c24e6c4d0942821d6401000000000000000ed3719a468266b1ec6c1877327472271090a89e20af885344bb42068ac3661b01000000000000000c310a25d90cbb8bca8a27f981320c0d58d53d6b14c9456b9bdc22a498209c7c01000000000000007cccd7223a0686b7ff0f82b21d7a23ea120a1f8fef6c38130e258a000751653601000000000000002cbe660fd9ea663d034aed8a16bee2568031fb33b4b3281b0ca60da8ae16cf1f0100000000000000ea6c5676c88fb95a3623b50a46aa4f6f16ca413c733463d4bc40b37ee3848053010000000000000064b4c53263fb2cb7ea7cdec3d93cfa6423e8d49d05fe4669462b5205066b68580100000000000000ec54ca5015d3cf3419d9acf4df1c47582bf02ac8b2c76e01dac4c6c57e27a31b01000000000000001ab7f00a9847b1b24b5c87f943c4d30ac7532a8e2bd850c91de8e055b609ec2001000000000000000acf6c47ece66620fd7a328e35f59e18f4eba6946b80898b7f43c501183eed1f0100000000000000b8d1adba13062fde5e5fa395b6729eb92ba579e09c8df8ed6281e866935fe64e0100000000000000784a6617fdfba93850bb1f2ff247b92a0a3587ce248b925be0bc2160ad1e2675010000000000000000a2260a2509baa5f606defb568cb5a9a2fef0bc47c02bd7fb4dcbdd6e3688300100000000000000da2345b9b117099b2fc612ab9e6a29a7c19921fae3b8ffa5e215dad1f30a5f6a0100000000000000a66ee8573705d329a870e1953ddef1f25ddcf4ec5709a0edc9b1ecc00bf4360a0100000000000000827eff0f244837c31abb9c1bf243b26c00cba5624e8a6619f941aa4bd7e3858c0446524e4b9d2f013101092005a6f7a58a98df5f9b8d186b9877f12b603aa06c7debf0f610d5a49f9ed70100000000000000262b5e095b309af2b0eae1c554e03b6cc4a5a0df207b662b329623f27fdce8d0010000000000000088554d82b1e63bedeb3fe9bd7754c7deccdfe277bcbfad4bbaff6302d3488bd20100000000000000a8565f4f6e753fc7942fa29051e258da2e06d13b352220b9eadb31d8ead7f88b0100000000000000244f13c0835db4a3909cee6106b276684aba0f8d8b1b0ba02dff4d659b081adf0100000000000000eab6f3a26d7fd65eff7c72a539dbeee68a9497476b69082958eae7d6a7f0f1d50100000000000000a1b99a0a349691e80429667831f9b818431514bb2763e26e94a65428d22f38270100000000000000d491c474c7a1885fe1d2d557e27bbcd81bffa9f3a507649e623b47681d6c98930100000000000000301d8f635ec49e983cc537c4b81399bb24027ac4be709ce1a4eeb448e98a9aec0100000000000000fe249696419a67cb9e0f29d0297d840048bddf6612a383f37d7b96348a1bc5f10100000000000000f9ac6eed6eb911dc43e120c8480e0258a6b33e0b91734cc64f144827053b17ae010000000000000091c62e6866d8b68c1b0e53df0d0f0f4f187278db30c7b95d2741f4d0c8c595070100000000000000984482b48d356ce8e299268b100c61a9ba5f96a757cf98150683a3e8aa85484a01000000000000004590b293b6ec62c77f022542a73651a42b50f05a8d10bbb546746ca82221ca3b010000000000000018105a05e4a7ea9c9d5096a37c8b3ce1a9c62ebd7badd7ee6f1c6e5961a08d0601000000000000006d5e025e08e3ec72531c476098287b13295fa606fab8275418e0c4c54f236c9e010000000000000073fbfdaa00a5205310cb0d1bd54175647482fae300cc66b36e7846e82288e9f00100000000000000290d9479d0c1998373900dfb72900d1c9f55c018dd7eeed4ce0e988bb3da03a201000000000000002910ddec7c51b2eab4d96831a8b9e84a42cebdadae62bdea26ca7b0c640e8a210100000000000000f86c72277ed20efe15bab1abcf34656e7d2336e42133fa99331e874b5458b28f0100000000000000abe6cb62c4606ee7046d07bc9e5eec2246068396590b59194c10bbe82f7c8b5d0100000000000000dea0d85a4cf74a91c85d7f90873bfbdc40c8c939377bec9a26d66b895a1bbeaa010000000000000094028d6eafa1c0d6218077d174cc59cea6f2ea17ef1c002160e549f43b03112b01000000000000000a978fd659c69448273e35554e21bac35458fe2b199f8b8fb81a6488ee99c7340100000000000000e2eefb4dd06c686ca29cdb2173a53ec8322a6cb9128e3b7cdf4bf5a5c2e8906b0100000000000000840bd86fa97ef694a34fd47740c2d44ff7378d773ee090903796a719697e67d80100000000000000df4bc26d8aeb83ed380c04fe8aa4f23678989ebffd29c647eb96d4999b4a67360100000000000000dd66c7a479fe0352fda60876f173519b4e567f0a0f0798d25e198603c1c5569b010000000000000095fefa2edb64720ba97bd4d5f82614236b3a1f5deb344df02d095fccfe1db9b0010000000000000000f38ebe212f804ea0fbbeb645b8375e21d27f5381de0e0c0156f2fa3a0a0a0501000000000000005b8afe90b542f6e0fffb744f1dba74e34bb4d3ea6c84e49796f5e549781a2f5c01000000000000002dc01d7b8e814661b5e2d2a51a258b2f7032a83082e6e36a5e51ef9af960b05801000000000000007e1190f4beb3657bcf5c044a5df2a86daf2116518f65c36992ede73dd6777c8201000000000000006e59b42880a9992cd2b1b08b7da26430a1857d8d0888e323ec63339dbbaccf470100000000000000964906e479f2172f4eaea2446e44964680213193ac981c3ca77015df8b02f4c80100000000000000772d6e13a1519a43afcc9e79b4556c972e90b380f289d993506253c9de1edd1c010000000000000088ae88472391e18ec1b416f69ccf13399c4a0f6cc6abe662a88e033fb3f7459501000000000000007584413f927bee5a607d36d9eedc451ad5dab66af39d53c548649260e067601401000000000000002f4515da05794e97d8a4b15679913ca844fa4e25cbe936aa92afce02ceac807101000000000000008c9b6893834f9af8cf8410ed26f6e9c8029891b9b08e36d2706226d420580423010000000000000069cfb82e998e36468e79b3eaeec213d9ec9d76e25edc1b65d41c85af32cca36501000000000000006482e09117de608a6dd0cad6583bc044200c79308448e32a2bc3a97fddb0bc48010000000000000002f80695f0a4a2308246c88134b2de759e347d527189742dd42e98724bd5a9bc0100000000000000e6a3b907163bcd96cbd90fea75f15a20b03f7517c353e96ca4d7122a7063a6df010000000000000053bdf319c8bf5992e7ad6215aa2dda2db44e6cc0caad127544a0f83362bca0220100000000000000d11692190eb3874068225007cb4253f23d535a0b0169b0b54014d083e9e399900100000000000000597f675a8d47cb4165e9eede08ef9f7cb5906cbc9b44da080a21f9f9e905f7300100000000000000c39ad005c6ce056b0fa7baff65f4d77ed645aef3488080396c568f1c7989c60a0100000000000000c7733b942502973f2fa2cdff5d506e77224ff428b0f775fbf07942975b17883601000000000000008207bf4bf7e95006f8da5463b44c77c8e334456e2c4c4d4cd5ffb74e8e45d071010000000000000095a90ca29491de8982145611188f1a18bba22e29371d0ab494cd8bd0f02ab5b501000000000000006db5e3b16a2cc4fc1de701c21a073981eb1a50caeb2e0294a21b786e92f0847501000000000000000bee9adb232d9c7248feefdfb3e3cc33364e3fc15a4a00e60e171cf930ef5ad00100000000000000d9214fdd325d892b23d375f366478df7f2a426f9f29b66c2c9fa517954c2f2c301000000000000004484e4346eb0b894f148234dd9ec736a2d37c428ae191b8359ed9b03b0f6017d0100000000000000978a06ff17956afd5cbb8a1e85267dccad9ea0aef5cb75f1c22af1baf29013580100000000000000e4dc8f4c7d0d17009c8e2a4d462b9d6dec5abdcf9b9e74c5af88a518c6df8dce010000000000000073071024c4dfbc81863e7201db88fc1a6fa6dcc4f6f2f0a8a33ef8ff3ef9447301000000000000003ed9fc282b5a8c2203d79501f4d1ba9b673196c6684b17bba0e3380637ddf5780100000000000000fc8f03e8f87dc94bcb10b18b8ad3d2394533c41b51c0fc6f0c89d7498bc07cf20100000000000000ad19893bd78c611087f21c0f33ca1edbb053aa5fdb3aa00ff6a4ba7d6ba286b80100000000000000064a31abd0d2431f3109a44c8b00e724f56731a99852408c83985157fa6276da0100000000000000fa74875360c9fab71916824e96bccf6417c4ea23f01c298f31bc8775689dd93b0100000000000000496f13c8d934c49cf357ff744fe0adb9ba8bb4c0a6697194ab6c807be92f590a0100000000000000c4a1b230780455f5f18ec4b84386cde822e62ceefa8d32fbca0b9f398e434c860100000000000000e7a3dcc0cca510bddefbbe11a17745e12fedf8fb577bb574805d175e51b059ed0100000000000000c3322124f3e4161dd1b57a7bb412c9352084215b1ceb15550850b3452a32d467010000000000000093d6ef85a74086d6863220f27e625f3cd2a864a52808580d1058d2ac8133a4b701000000000000001b2c1b3dec0bd38311fc2f97d2d7292eb4fe35161acc671164cd1363de38fda5010000000000000014574d49c457d877e91db73a93ac8ca5fc595ca25c25f156398f32322dd71f59010000000000000004d3b737505bfbf1eee1375118f8d584302f2da7eefaa3c5d7b095f3cb48593801000000000000004d30a8acb88d2bc2b1ae46a5e760ce4233c0bb9c03a57422009d6c2cd0b3367a01000000000000005da3581ce065c8037217ecf718fc9b97e40bd40f36038f1136135c9ee5a9d5f20100000000000000a9e1f3861a27d63510f7ff632506216abd09c1f9c0233c558bda127ef07f018e01000000000000001e05e4b40cf57ae8965cac3ea994a135f020b6a4e02ac478d3025dfe2f33d12c010000000000000061771bd363e7deb0e9f260e9a7e0e36e646cdb30ae5e8b7ed55ce45411a4ac4c010000000000000000000000054241424501013c48eedf3c2c71de7cf46cf5ba2cde5c1df8942fb68c2b622c815360ed5b02566532c850b260da6fde73818ad3008aab890fe7863552b646409137550765ad850004100000000000000000000000000000000000000000000000000000000000000000810180661eba060df384d3317991b3cc2a284b7461909ad263f5ae71857b6b6bdaf56f7788aa89fafe2d4776cc0f67f6a6fb80661eba060df384d3317991b3cc2a284b7461909ad263f5ae71857b6b6bdaf56f7788aa89fafe2d4776cc0f67f6a6fb0400"
];
